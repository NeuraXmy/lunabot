# 图片处理服务 (imgtool)

提供一些图片处理功能的服务

- **该服务中对图片进行处理的指令均需要回复一张图片**

- **大部分图片变换指令都同时支持动图和静态图**

###  用户指令

- [`/img` 图片处理](#img)
- [`/img check` 检查图片属性](#img-check)
- [`/scan` 二维码识别](#scan)
- [`/qrcode` 生成二维码](#qrcode)
- [`/saying` 生成群友语录](#saying)

### 管理指令

无

### 图片操作

- [`gif` 图片转gif](#gif)
- [`mirror` 镜像翻转图片](#mirror)
- [`rotate` 旋转图片](#rotate)
- [`back` 反转动图](#back)
- [`speed` 调整动图速度](#speed)
- [`mid` 对称效果](#mid)
- [`resize` 调整图片大小](#resize)
- [`gray` 灰度化](#gray)
- [`revcolor` 反色](#revcolor)
- [`flow` 流动效果](#flow)
- [`fan` 旋转效果](#fan)
- [`repeat` 重复效果](#repeat)

---

## `/img`
```
回复一张图片，进行一系列图片处理操作
使用方式为 (回复一张图片) /img 操作1 参数1 操作2 参数2...
可用的图片操作见后文
操作之间只要输出输出类型对应就可以任意连接
```
- **示例**

    `(回复一张图片) /img rotate 90` 逆时针旋转90度

    `(回复一张图片) /img rotate 90 resize 0.5x` 逆时针旋转90度，再缩小到50%


## `/imgpt`
```
回复一张图片，给出你的要求，让GPT生成操作序列处理图片
太过复杂的要求可能导致GPT生成失败
```
- **示例**

    `(回复一张图片) /imgpt 把图像逆时针旋转90度再加速到原来的2倍速`


## `/img check`
```
获取图片分辨率等属性
```
- **示例**

    `(回复一张图片) /img check` 


## `/scan`
```
识别图片中的二维码
```
- **示例**

    `/scan`


## `/qrcode`
```
生成二维码
```
- **示例**

    `/qrcode https://www.test.com`


## `/saying`
```
生成群友语录
```
- **指令别名**

    `/语录`

- **示例**

    `(回复一条文本消息) /语录`

--- 

## 图片操作

## `gif`
```
将一张静态图片转换为gif图。可以用于制作表情
QQ无法正确显示带有透明部分png格式图片，转换为gif后可以正常显示
注意转换过程中会出现不可避免的质量损失。
```
- **输入输出**

    `静态图 -> 动图`

- **示例**

    `gif`


## `mirror`
```
将图片水平或垂直镜像翻转
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `mirror` 水平翻转

    `mirror v` 垂直翻转


## `rotate`
```
将图片逆时针旋转指定角度
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `rotate 90` 逆时针旋转90度


## `back`
```
在时间轴上反转动图
```
- **输入输出**

    `动图 -> 动图`

- **示例**

    `back`


## `speed`
```
调整动图速度
```
- **输入输出**

    `动图 -> 动图`

- **示例**

    `speed 2x` 加速到2倍速

    `speed 0.5x` 减速到50%

    `speed 50` 设置间隔为50（ms）


## `mid`
```
生成对称效果，将图片的一侧镜像黏贴到另一侧
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `mid` 左边翻转到右边

    `mid r` 右边翻转到左边

    `mid v` 上面翻转到下面

    `mid v r` 下面翻转到上面


## `resize`
```
调整图片大小
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `resize 0.5x` 缩小到50%

    `resize 100` 保持宽高比缩放到长边为100

    `resize 2x 0.5x` 宽放大2倍，高缩小50%

    `resize 100 100` 调整到长宽为 100x100


## `gray`
```
将图片灰度化
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `gray`


## `revcolor`
```
将图片颜色反转
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `revcolor`


## `flow`
```
生成流动效果
```
- **输入输出**

    `任意 -> 动图`

- **示例**

    `flow` 从左到右流动

    `flow v` 从上到下流动

    `flow r` 从右到左流动

    `flow v r` 从下到上流动

    `flow v r 2x` 从下到上流动，速度为2倍


## `fan`
```
生成旋转效果
```
- **输入输出**

    `任意 -> 动图`

- **示例**

    `fan` 逆时针旋转

    `fan r` 顺时针旋转

    `fan 2x` 逆时针2倍速旋转


## `repeat`
```
生成重复效果
```
- **输入输出**

    `任意 -> 任意`

- **示例**

    `repeat 1 2` 横向重复1次，纵向重复2次

    `repeat 2 3` 横向重复2次，纵向重复3次

--- 

[回到帮助目录](./main.md)